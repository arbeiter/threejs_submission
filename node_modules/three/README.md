### Command to transcode the files with video to ensure a better fps
	ffmpeg -i input_video.mp4 -c:v libvpx-vp9 -b:v 1M -vf "scale=-1:720" -pix_fmt yuva420p -c:a libopus -b:a 128k output_video.webm

### Bash file for converting individual mp4s to webms

for input_file in *.mp4; do
    # Check if there are no .mp4 files
    if [[ ! -e "$input_file" ]]; then
        echo "No .mp4 files found in the directory."
        exit 1
    fi

    # Extract the filename without the extension
    filename="${input_file%.*}"

    # Define the output filename with .webm extension
    output_file="${filename}.webm"

    echo "Converting '$input_file' to '$output_file'..."

    # Run the ffmpeg command with the specified parameters
    ffmpeg -i "$input_file" \
        -c:v libvpx-vp9 \
        -b:v 1M \
        -vf "scale=-1:720" \
        -pix_fmt yuva420p \
        -c:a libopus \
        -b:a 128k \
        "$output_file"

    # Check if ffmpeg succeeded
    if [[ $? -eq 0 ]]; then
        echo "Successfully converted '$input_file' to '$output_file'."
    else
        echo "Failed to convert '$input_file'."
    fi

    echo "----------------------------------------"
done

echo "All conversions completed."
